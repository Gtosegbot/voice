<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceAI - Plataforma de Prospecção por Voz</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="img/logo.svg" alt="VoiceAI Logo" class="logo">
                <h3>VoiceAI</h3>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="sidebar-nav-item active" data-page="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="leads">
                        <i class="fas fa-user-tie"></i>
                        <span>Leads</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="conversations">
                        <i class="fas fa-comments"></i>
                        <span>Conversas</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="campaigns">
                        <i class="fas fa-bullhorn"></i>
                        <span>Campanhas</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="crm">
                        <i class="fas fa-address-card"></i>
                        <span>Mini CRM</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="analytics">
                        <i class="fas fa-chart-line"></i>
                        <span>Análises</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="flow-builder">
                        <i class="fas fa-sitemap"></i>
                        <span>Construtor de Fluxo</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="ai-models">
                        <i class="fas fa-brain"></i>
                        <span>Modelos IA</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="integration">
                        <i class="fas fa-plug"></i>
                        <span>Integrações</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="file-upload">
                        <i class="fas fa-file-import"></i>
                        <span>Importar Clientes</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="payments">
                        <i class="fas fa-credit-card"></i>
                        <span>Pagamentos</span>
                    </li>
                    <li class="sidebar-nav-item" data-page="settings">
                        <i class="fas fa-cog"></i>
                        <span>Configurações</span>
                    </li>
                    <li class="sidebar-nav-item admin-only" data-page="admin">
                        <i class="fas fa-user-shield"></i>
                        <span>Superadmin</span>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <div class="user-info">
                    <img src="img/avatar-placeholder.jpg" alt="User Avatar" class="user-avatar">
                    <div>
                        <p class="user-name" id="current-user-name">Usuário</p>
                        <p class="user-role" id="current-user-role">Agente</p>
                    </div>
                </div>
                <button id="logout-btn" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <div class="header-left">
                    <button id="sidebar-toggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Buscar..." id="global-search">
                    </div>
                </div>
                <div class="header-right">
                    <div class="notification-bell">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </div>
                    <div class="quick-actions">
                        <button class="btn btn-primary" id="new-call-btn">
                            <i class="fas fa-phone"></i> Nova Ligação
                        </button>
                    </div>
                </div>
            </header>

            <!-- Page Content -->
            <div class="page-content" id="page-content">
                <!-- Pages will be loaded here -->
                <div id="login-page" class="auth-page" style="display: none;">
                    <div class="auth-container">
                        <div class="auth-logo">
                            <img src="img/logo-large.svg" alt="VoiceAI Logo">
                            <h1>VoiceAI</h1>
                            <p>Plataforma de Prospecção por Voz com IA</p>
                        </div>
                        <div class="auth-form">
                            <h2>Login</h2>
                            <form id="login-form">
                                <div class="form-group">
                                    <label for="login-email">Email</label>
                                    <input type="email" id="login-email" required>
                                </div>
                                <div class="form-group">
                                    <label for="login-password">Senha</label>
                                    <input type="password" id="login-password" required>
                                </div>
                                <button type="submit" class="btn btn-primary btn-block">Entrar</button>
                            </form>
                            <div class="auth-links">
                                <a href="#" id="forgot-password-link">Esqueceu a senha?</a>
                                <a href="#" id="register-link">Criar conta</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="register-page" class="auth-page" style="display: none;">
                    <div class="auth-container">
                        <div class="auth-logo">
                            <img src="img/logo-large.svg" alt="VoiceAI Logo">
                            <h1>VoiceAI</h1>
                            <p>Plataforma de Prospecção por Voz com IA</p>
                        </div>
                        <div class="auth-form">
                            <h2>Criar Conta</h2>
                            <form id="register-form">
                                <div class="form-group">
                                    <label for="register-name">Nome Completo</label>
                                    <input type="text" id="register-name" required>
                                </div>
                                <div class="form-group">
                                    <label for="register-email">Email</label>
                                    <input type="email" id="register-email" required>
                                </div>
                                <div class="form-group">
                                    <label for="register-password">Senha</label>
                                    <input type="password" id="register-password" required>
                                </div>
                                <div class="form-group">
                                    <label for="register-confirm-password">Confirmar Senha</label>
                                    <input type="password" id="register-confirm-password" required>
                                </div>
                                <button type="submit" class="btn btn-primary btn-block">Criar Conta</button>
                            </form>
                            <div class="auth-links">
                                <a href="#" id="login-link">Já tem uma conta? Entre aqui</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Dashboard Page (default visible) -->
                <div id="dashboard-page" class="content-page">
                    <!-- Will be populated by Dashboard.js -->
                </div>
                
                <!-- Leads Page -->
                <div id="leads-page" class="content-page" style="display: none;">
                    <!-- Will be populated by LeadManagement.js -->
                </div>
                
                <!-- Conversations Page -->
                <div id="conversations-page" class="content-page" style="display: none;">
                    <!-- Will be populated by Conversations.js -->
                </div>
                
                <!-- Analytics Page -->
                <div id="analytics-page" class="content-page" style="display: none;">
                    <!-- Will be populated by Analytics.js -->
                </div>
                
                <!-- Flow Builder Page -->
                <div id="flow-builder-page" class="content-page" style="display: none;">
                    <!-- Will be populated by FlowBuilder.js -->
                </div>
                
                <!-- Settings Page -->
                <div id="settings-page" class="content-page" style="display: none;">
                    <!-- Will be populated by Settings.js -->
                </div>
                
                <!-- Campaigns Page --> 
                <div id="campaigns-page" class="content-page" style="display: none;"> 
                    <!-- Will be populated by Campaigns.js --> 
                </div> 
                
                <!-- CRM Page --> 
                <div id="crm-page" class="content-page" style="display: none;"> 
                    <!-- Will be populated by CRM.js --> 
                </div> 
                
                <!-- AI Models Page --> 
                <div id="ai-models-page" class="content-page" style="display: none;"> 
                    <!-- Will be populated by AIModels.js --> 
                </div> 
                
                <!-- Integration Page --> 
                <div id="integration-page" class="content-page" style="display: none;"> 
                    <!-- Will be populated by Integration.js --> 
                </div>
                
                <!-- File Upload Page --> 
                <div id="file-upload-page" class="content-page" style="display: none;"> 
                    <!-- Will be populated by FileUpload.js --> 
                </div>
                
                <!-- Payments Page --> 
                <div id="payments-page" class="content-page" style="display: none;"> 
                    <!-- Will be populated by Payments.js --> 
                </div> 
                
                <!-- Admin Page --> 
                <div id="admin-page" class="content-page" style="display: none;"> 
                    <!-- Will be populated by Admin.js --> 
                </div>
            </div>
        </main>
    </div>
    
    <!-- Modal templates -->
    <div class="modal fade" id="new-call-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Nova Ligação</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="new-call-form">
                        <div class="form-group mb-3">
                            <label for="call-lead-select">Selecionar Lead</label>
                            <select id="call-lead-select" class="form-select">
                                <option value="">-- Selecione um Lead --</option>
                                <!-- Will be populated dynamically -->
                            </select>
                        </div>
                        <div class="form-group mb-3">
                            <label for="call-phone">Número de Telefone</label>
                            <input type="tel" id="call-phone" class="form-control" placeholder="(XX) XXXXX-XXXX">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="start-call-btn">Iniciar Chamada</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Active Call Modal -->
    <div class="modal fade" id="active-call-modal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title"><i class="fas fa-phone"></i> Chamada Ativa</h5>
                </div>
                <div class="modal-body">
                    <div class="call-info">
                        <div class="call-lead-info">
                            <h4 id="active-call-lead-name">Nome do Lead</h4>
                            <p id="active-call-lead-company">Empresa</p>
                            <p id="active-call-lead-phone">(XX) XXXXX-XXXX</p>
                        </div>
                        <div class="call-timer">
                            <span id="call-timer">00:00</span>
                        </div>
                    </div>
                    <div class="call-actions mt-3 mb-3 text-center">
                        <button class="btn btn-danger btn-circle" id="end-call-btn">
                            <i class="fas fa-phone-slash"></i>
                        </button>
                        <button class="btn btn-secondary btn-circle" id="mute-call-btn">
                            <i class="fas fa-microphone-slash"></i>
                        </button>
                        <button class="btn btn-info btn-circle" id="hold-call-btn">
                            <i class="fas fa-pause"></i>
                        </button>
                    </div>
                    <div class="call-transcript card">
                        <div class="card-header">
                            Transcrição em Tempo Real
                        </div>
                        <div class="card-body call-transcript-body" id="call-transcript">
                            <p><em>A transcrição aparecerá aqui durante a chamada...</em></p>
                        </div>
                    </div>
                    <div class="call-ai-insights card mt-3">
                        <div class="card-header">
                            Insights de IA
                        </div>
                        <div class="card-body" id="call-ai-insights">
                            <ul>
                                <li><strong>Pontuação do Lead:</strong> <span id="ai-lead-score">--</span></li>
                                <li><strong>Pontos de Dor:</strong> <span id="ai-pain-points">--</span></li>
                                <li><strong>Objeções:</strong> <span id="ai-objections">--</span></li>
                                <li><strong>Próximos Passos:</strong> <span id="ai-next-steps">--</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap, Chart.js and app scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- App scripts -->
    <script src="js/services/api.js"></script>
    <script src="js/services/socket.js"></script>
    <script src="js/store/index.js"></script>
    <script src="js/components/Dashboard/Dashboard.js"></script>
    <script src="js/components/LeadManagement/LeadManagement.js"></script>
    <script src="js/components/Conversations/Conversations.js"></script>
    <script src="js/components/Analytics/Analytics.js"></script>
    <script src="js/components/FlowBuilder/FlowBuilder.js"></script>
    <script src="js/components/Settings/Settings.js"></script>
    <script src="js/components/Campaigns/Campaigns.js"></script> 
    <script src="js/components/CRM/CRM.js"></script> 
    <script src="js/components/AIModels/AIModels.js"></script> 
    <script src="js/components/Integration/Integration.js"></script> 
    <script src="js/components/Payments/Payments.js"></script> 
    <script src="js/components/Admin/Admin.js"></script> 
    <script src="js/components/FileUpload/FileUpload.js"></script>
    <script src="js/components/Onboarding/OnboardingController.js"></script>
    <script src="js/components/Onboarding/InteractiveTutorial.js"></script>
    <script src="js/components/Onboarding/QuickSetup.js"></script>
    <script src="js/components/Onboarding/index.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
